<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Experiment Complete</title>
  <link rel="icon" href="data:,">

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #f7f7f7;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      max-width: 700px;
      background: white;
      padding: 40px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
      font-size: 18px;
    }
    button {
      margin-top: 30px;
      padding: 12px 24px;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      background-color: #1976d2;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #145ea8;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>Experiment Complete</h2>

    <p>
      You've finished the task. Thank you for participating!
    </p>

    <p>
      Please click the button below to return to Prolific and complete the study.
    </p>

    <button id="prolific-btn">
      Return Study on Prolific
    </button>

    <div id="google-feedback" style="display:none; margin-top:30px;">
      <hr style="margin:30px 0;">
      <p style="font-size:16px;">
        <b>Testing run?</b><br><br>
        We would appreciate your feedback:
      </p>

      <button
        style="background-color:#4caf50"
        onclick="window.open(
          'https://docs.google.com/forms/d/e/1FAIpQLSeo9oxXp7fjrct1EQYdvnWMRFo8AahNQFZGtMyjYWnOfkNPhg/viewform?usp=header',
          '_blank'
        )">
        Give Feedback (Google Form)
      </button>
    </div>
  </div>

  <script>
    // Prolific completion
    document.getElementById("prolific-btn").onclick = () => {
      window.location.href =
        "https://app.prolific.com/submissions/complete?cc=ABCD1234";
    };

    // Enable Google Form only in test mode
    if (sessionStorage.getItem("test_mode") === "true") {
      document.getElementById("google-feedback").style.display = "block";
    }
  </script>
</body>
</html>
